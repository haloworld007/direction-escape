# 微信小游戏需求文档（执行级 PRD）

## 产品名

### 《乐消消·方向出走》

## 一、产品定位

### 1.1 游戏类型

- 方向阻挡消除类益智小游戏
- 海外常见分类：Tap Away
- 微信侧归类：休闲 / 益智 / 解压

### 1.2 目标用户

- 微信普通用户（非核心玩家）
- 偏好：

  - 不紧张
  - 不操作复杂
  - 可以慢慢看、慢慢点

### 1.3 核心卖点（一句话）

**点击它，只要前面没挡，就能消除。**

---

## 二、核心玩法设计

### 2.1 游戏核心单位：方向块

#### 2.1.1 单位定义

- 每一个元素（动物）为一个 **独立方块**
- 每个方块：

  - 占据一个固定格位
  - 拥有 **唯一朝向**
  - 上 / 下 / 左 / 右

> 朝向由"动物头部方向"体现

#### 2.1.2 朝向规则

- 方块 **不可旋转**
- 朝向在本关内固定不变
- 玩家无法直接修改朝向（除非使用道具）

### 2.2 消除规则（核心规则，必须精确）

#### 2.2.1 消除触发

- 玩家 **点击任意一个方块**
- 系统立即判断该方块是否可消除

#### 2.2.2 可消除判定（关键）

> 一个方块 **可以被消除**，当且仅当：
>
> **从该方块出发，沿其朝向的直线方向上，**
> **直到屏幕边界为止，没有任何其他方块阻挡**

**包括以下情况视为「可消除」：**

- 朝向方向上 无其他方块
- 方块正对屏幕边界

**以下情况视为「不可消除」：**

- 朝向方向上存在任意一个方块
- 紧贴前方即被阻挡

#### 2.2.3 消除表现

点击成功后：

- 方块沿朝向方向 **滑动出屏幕**
- 滑出屏幕后立即消失
- 滑动过程中：

  - 不影响其他方块位置
  - 不产生连锁移动

---

## 三、关卡目标与胜负判定

### 3.1 胜利条件

- 当前关卡中 **所有方块被成功消除**

### 3.2 失败条件（两种）

#### 失败条件 A：死局

- 场上 **不存在任何一个可被消除的方块**

#### 失败条件 B（可选）

- 达到本关最大操作次数（部分关卡）

> MVP 阶段可只实现「死局失败」

---

## 四、关卡结构设计

### 4.1 棋盘结构

- **布局方式**：**错位网格布局（菱形密排）**
- **结构特点**：
  - 采用 **错位 / 倾斜排列**
  - 每一行方块比上一行水平偏移，形成致密的蜂巢/砌砖结构
  - 方块从中心向外扩展，自然形成团块
  - 不使用正交的规则网格排列
- **方块形态**：
  - 胶囊状（横/竖）
  - 紧密排列，模拟堆叠感

### 4.2 关卡构成要素

每一关由以下数据组成：

- 方块总数
- 每个方块的：

  - 初始坐标
  - 朝向
  - 类型（仅外观区分）

### 4.3 难度来源（非常重要）

> 难度 **不来自操作速度**，而来自：
>
> 1. 方块密度（越密越难）
> 2. 朝向互相阻挡关系
> 3. 必须提前规划的消除顺序

❌ **不允许通过"看不清 / 反应慢"制造难度**

---

## 五、操作与交互细节

### 5.1 操作方式

- **唯一操作：点击**
- 不支持拖动
- 不支持长按

### 5.2 点击反馈规则

| 情况     | 反馈           |
| -------- | -------------- |
| 可消除   | 方块飞出       |
| 不可消除 | 方块轻微抖动   |
| 死局     | 自动弹出提示   |

### 5.3 禁止行为

- ❌ 禁止弹窗中断点击节奏
- ❌ 禁止强制教学中断操作

---

## 六、道具系统

### 6.1 道具一：抓走

**功能：**

- 玩家任选一个方块
- 直接移除
- 无视方向与阻挡

**使用目的：**

- 解死局
- 广告激励入口

### 6.2 道具二：翻转

**功能：**

- 将 **所有方块的朝向整体反转 180°**

  - 上 ↔ 下
  - 左 ↔ 右

**使用目的：**

- 改变整体可消除结构

### 6.3 道具三：洗牌（位置）

**功能：**

- 随机打乱所有方块的位置
- 方块朝向保持不变

**使用目的：**

- 重构关卡布局
- 防止卡死

### 6.4 道具四：洗牌（方向）

**功能：**

- 随机打乱所有方块的朝向
- 方块位置保持不变

**使用目的：**

- 改变阻挡关系
- 提供新的消除路径

### 6.5 辅助功能：撤销

**功能：**

- 撤回上一步操作
- 将刚消除的方块恢复到原位置

**使用条件：**

- 观看广告后可使用
- 每步操作后可撤销

---

## 七、界面与信息展示

### 7.1 关卡界面必须展示

- 当前关卡编号
- 子关卡节点（① - ②）
- 进度百分比（已消除 / 总数）+ 动物头像
- 道具按钮（4个：抓走、翻转、洗牌位置、洗牌方向）
- 顶部功能按钮（2x2布局：设置、撤销、背景切换、纯色模式）

### 7.2 不显示信息

- ❌ 剩余可消除数量
- ❌ 最优解提示
- ❌ 正确顺序指引

---

## 八、新手引导（必须极简）

### 8.1 引导原则

- 1 关完成
- 不超过 10 秒
- **引导即实操**

### 8.2 引导流程

1. 高亮一个"可消除方块"
2. 提示点击
3. 方块飞出
4. 无后续说明

---

## 九、存档与进度

### 9.1 本地存档内容

- 已解锁关卡
- 每关完成状态
- 道具剩余数量

### 9.2 解锁规则

- 通关一关 → 解锁下一关
- 不允许跳关

---

## 十、明确不做项（v1.0）

❌ 连击系统
❌ 分数系统
❌ 排行榜（UI按钮保留，但v1.0仅作占位，不实现实际功能）
❌ 多人玩法
❌ 实时物理碰撞
❌ 复杂特效
❌ 游戏圈功能（UI按钮保留，v1.0仅作占位）
❌ 活动模式（如「乌龟对对碰」，UI按钮保留，v1.0仅作占位）

**UI占位说明：**
- 以下功能按钮在首页保留，但v1.0版本仅作为UI占位展示，点击后可显示"敬请期待"或暂无响应：
  - 游戏圈按钮
  - 排行榜按钮
  - 活动模式入口（如「乌龟对对碰」）
  - 部分高级功能入口（如角色收藏、皮肤系统）
- 这些按钮的UI设计需完成，为后续版本预留扩展空间

---

## 十一、上线验收标准

> 一个版本 **可以上线** 的标准：
>
> - 玩家无需说明即可理解玩法
> - 第 1～3 关 几乎不会失败
> - 所有失败都来自"判断错误"，不是误操作
> - 任意关卡 不卡死（有道具兜底）

---

## 十二、一句非常关键的总结

这个游戏的成功，不在于"花样"，
而在于"**规则绝对干净**"。

你现在做的这件事，本质是：

> **用最小规则，制造最大观察深度。**

---

## 十三、方块视觉设计规范

### 13.1 动物方块设计

**基础动物方块（8种）**

| 编号 | 动物 | 色系 | 造型特点 |
|------|------|------|----------|
| 1 | 🐱 小猫 | 橙色系 | 圆润造型，竖耳 |
| 2 | 🐶 小狗 | 棕色系 | 垂耳造型 |
| 3 | 🐰 小兔 | 白色系 | 长耳朵 |
| 4 | 🐻 小熊 | 浅棕色系 | 憨厚造型，圆耳 |
| 5 | 🦊 小狐 | 红色系 | 尖耳朵 |
| 6 | 🐼 小熊猫 | 黑白配色 | 黑眼圈 |
| 7 | 🐨 小考拉 | 灰色系 | 圆鼻子 |
| 8 | 🦁 小狮子 | 黄色系 | 鬃毛 |

**解锁动物方块（4种，后期关卡）**

| 编号 | 动物 | 色系 | 造型特点 |
|------|------|------|----------|
| 9 | 🦉 小猫头鹰 | 紫色系 | 大眼睛 |
| 10 | 🐸 小青蛙 | 绿色系 | 鼓眼睛 |
| 11 | 🐧 小企鹅 | 黑白配色 | 蹒跚姿态 |
| 12 | 🦔 小刺猬 | 棕色系 | 背部刺 |

### 13.2 方块形态设计（胶囊状棋子）

#### 基本形态

- **形状**：横向胶囊状 / 长条形
- **结构**：两端有明显的动物头尾区分
- **尺寸规范**：
  - 长度：100 dp（横向）
  - 宽度：60 dp（纵向）
  - 最小可点击区域：50x50 dp
- **间距**：相邻方块间距 8-10 dp

#### 朝向表现方式

- **头部方向**：通过动物头部朝向体现（不添加箭头等额外元素）
- **尾部设计**：尾部与头部有明显区分，增强方向感
- **身体朝向**：整个胶囊状身体沿朝向方向延伸
- **示例**：
  - 向右朝向：头部在右，尾部在左
  - 向上朝向：头部在上，尾部在下

#### 视觉状态

- **正常状态**：纯动物造型，无背景框
- **点击反馈**：轻微缩小（scale 0.95）
- **可消除提示**：动物周围显示柔和光晕（非边框）
- **不可消除**：轻微左右抖动（±5度）

### 13.3 色彩方案

**主色调**

- 背景色：浅蓝渐变 `#E3F2FD` → `#BBDEFB`
- 棋盘区域：白色半透明 `#FFFFFF 80%`
- 进度条：橙色渐变 `#FF9800` → `#F57C00`

**方块配色**

- 使用柔和的糖果色系
- 每种动物有 2-3 种配色变体（增加视觉丰富度）

---

## 十四、音效与音乐设计

### 14.1 背景音乐（BGM）

| 场景 | 风格 | 速度 | 时长 | 乐器 |
|------|------|------|------|------|
| 主菜单 | 轻快、愉悦、期待感 | 120 BPM | 45 秒循环 | 钢琴 + 木琴 + 轻 percussion |
| 游戏进行 | 专注、放松、不抢注意力 | 90-100 BPM | 60 秒循环 | 木琴 + 柔和电子音 + 轻鼓点 |
| 胜利 | 欢快、成就感 | - | 5 秒 | 铜管乐 + 铃声 |
| 失败/死局 | 遗憾但不沮丧 | - | 3 秒 | 柔和的下行音阶 |

### 14.2 音效设计（SFX）

#### 消除相关音效

| 音效名称 | 时长 | 描述 |
|----------|------|------|
| 点击音效（可消除） | 0.1s | 清脆的 "pop" 声 |
| 点击音效（不可消除） | 0.1s | 低沉的 "thud" 声 |
| 飞出音效 | 0.3s | 快速的 "whoosh" 声，根据方块大小有轻微音调变化 |
| 消失音效 | 0.2s | 柔和的 "sparkle" 声，成功感但不刺耳 |

#### 关卡进度音效

| 触发时机 | 音效描述 |
|----------|----------|
| 完成进度 25% | 上升音阶提示（轻快） |
| 完成进度 50% | 上升音阶提示（更明亮） |
| 完成进度 75% | 上升音阶提示（最高昂） |
| 最后一个方块 | 特别庆祝音效 |

#### UI 音效

| 音效名称 | 时长 | 描述 |
|----------|------|------|
| 按钮点击 | 0.1s | 清脆声 |
| 道具使用 | 0.3s | 魔法声 |
| 页面切换 | 0.2s | 滑动声 |

### 14.3 音频控制

**音量设置**

- BGM 音量：30%（默认）
- SFX 音量：70%（默认）
- 独立控制开关

**音频规范**

- 格式：MP3 / AAC
- BGM 码率：128 kbps
- SFX 码率：64 kbps
- 采样率：44.1 kHz

---

## 十五、关卡设计系统

### 15.1 关卡难度分级

| 难度级别 | 关卡范围 | 方块数量 | 目标 | 特点 |
|----------|----------|----------|------|------|
| 教学关 | 1-3 | 3-6 个 | 理解核心规则 | 单一朝向为主，容易观察 |
| 简单关 | 4-10 | 7-12 个 | 基础观察练习 | 2-3 个朝向混合 |
| 中等关 | 11-20 | 13-20 个 | 需要规划消除顺序 | 3-4 个朝向，部分阻挡关系 |
| 困难关 | 21-30 | 21-30 个 | 考验观察能力 | 所有朝向，复杂阻挡关系 |

### 15.2 关卡数据格式

```json
{
  "level_id": 1,
  "name": "第一步",
  "difficulty": "tutorial",
  "blocks": [
    {
      "id": 1,
      "type": "cat",
      "position": {"x": 150, "y": 200},
      "direction": "up"
    },
    {
      "id": 2,
      "type": "dog",
      "position": {"x": 250, "y": 200},
      "direction": "right"
    }
  ],
  "par_moves": 5,
  "hints": ["点击方块，让它飞出屏幕"]
}
```

**字段说明**

- `level_id`: 关卡唯一编号
- `name`: 关卡名称
- `difficulty`: 难度等级（tutorial / easy / medium / hard）
- `blocks`: 方块数组
  - `id`: 方块唯一标识
  - `type`: 动物类型（cat, dog, rabbit, bear 等）
  - `position`: 位置坐标（单位：dp）
  - `direction`: 朝向（up / down / left / right）
- `par_moves`: 推荐操作步数
- `hints`: 提示文案数组

### 15.3 具体关卡示例（前10关生成逻辑）

> 采用**程序化生成**策略，关卡通过调整**方块总数**与**密集度**来控制难度。
> 布局均为**菱形密排**结构，从中心向外扩展，无特定固定形状（如心形、L型等）。

#### Level 1 - 3（入门）

- **参数**：方块数 3-15 个
- **布局**：中心极简团块
- **体验**：
  - 方块数量少，一眼可见
  - 几乎都在边缘，朝向大多朝外
  - 主要是横竖方块的错位组合

#### Level 4 - 6（进阶）

- **参数**：方块数 16-35 个
- **布局**：不断扩大的规则菱形/团块
- **体验**：
  - 经典的“砌砖”结构成型
  - 需要按照“由外向内”的逻辑消除
  - 考验对“错位缝隙”的判断

#### Level 7 - 10（挑战雏形）

- **参数**：方块数 36-60 个
- **布局**：大型密集菱形
- **体验**：
  - 方块密度增加
  - 视觉上开始有“堆叠”的错觉
  - 必须严格遵循“寻找边缘 -> 解锁内部”的循环

### 15.4 关卡设计原则

**可解性保证**

- 每个关卡至少有 1 种解法
- 推荐最优解路径
- 避免需要运气成分

**难度曲线**

- 循序渐进增加方块数
- 逐步引入更多朝向组合
- 每 5 关一个小挑战

**失败兜底**

- 每关提供 1 次免费道具
- 死局后提示使用道具
- 不强制观看广告

---

## 十六、动画与反馈系统

### 16.1 方块飞出动画

**参数**

- 速度：800 dp/s
- 缓动：ease-in（先慢后快）
- 旋转：飞出时逐渐透明，不旋转

**时长**

| 飞出距离 | 时长 |
|----------|------|
| 短距离（<200dp） | 0.25s |
| 中距离（200-400dp） | 0.4s |
| 长距离（>400dp） | 0.6s |

### 16.2 抖动反馈（不可消除）

**参数**

- 抖动幅度：±5 度
- 抖动次数：3 次
- 频率：10 Hz
- 总时长：0.3s

### 16.3 成功反馈

**关卡完成**

- 剩余方块同时飞出
- 播放胜利音效
- 屏幕显示 "太棒了！" 文字
- 文字动画：放大后淡出（1.5s）
- 自动跳转下一关（2秒后）

**进度更新**

- 进度条平滑增长
- 每 25% 进度有脉冲效果
- 百分比数字滚动更新

### 16.4 失败反馈

**死局检测**

- 自动检测无解状态
- 弹出提示："没有可消除的方块啦"
- 提供"使用道具"和"重试"选项
- 不显示"失败"字样（避免挫败感）

---

## 十七、道具系统详细规则

### 17.1 道具获取与使用

**初始数量（游戏开始时）**

| 道具 | 初始数量 |
|------|----------|
| 抓走 | 2 个 |
| 翻转 | 1 个 |
| 洗牌 | 1 个 |

**获取途径**

- 每 3 关完成：赠送随机道具 x1
- 观看激励视频：获得选择道具机会
- 连续 7 天登录：赠送全道具 x1

**使用限制**

- 每关每种道具最多使用 2 次
- 可以在同一关使用多种道具

### 17.2 道具效果详细说明

**抓走**

| 项目 | 说明 |
|------|------|
| 触发方式 | 点击道具 → 激活模式 → 点击任意方块 |
| 效果 | 方块直接消失，无视方向与阻挡 |
| 动画 | 方块缩小至透明（0.3s） |
| 消耗 | 1 个抓走道具 |

**翻转**

| 项目 | 说明 |
|------|------|
| 触发方式 | 点击道具 → 所有方块立即旋转 180° |
| 效果 | 所有方块的朝向整体反转（上↔下，左↔右） |
| 动画 | 方块原地旋转（0.5s），同步所有方块 |
| 消耗 | 1 个翻转道具 |

**洗牌**

| 项目 | 说明 |
|------|------|
| 触发方式 | 点击道具 → 弹出确认对话框 → 确认 |
| 效果 | 随机重排所有方块位置 |
| 动画 | 方块飞散后重新汇聚（1s） |
| 消耗 | 1 个洗牌道具 |

---

## 十八、UI/UX 详细规范

### 18.1 主界面（首页）设计

#### 背景与氛围

**整体背景风格**

- 森林 / 草地卡通风格
- 低饱和度绿色 + 浅黄色路径
- 明显纵向构图，适配手机竖屏
- 风格关键词：
  - 扁平 + 少量渐变
  - 无写实阴影
  - 高对比、强可读性

#### 首页核心元素布局

**顶部左侧功能区（纵向按钮列表）**

从上到下排列：

1. **设置按钮**
   - 图标：齿轮
   - 功能：音效、音乐、震动、重开新手引导等
   - 尺寸：48x48 dp

2. **游戏圈**（v1.0 仅作UI占位）
   - 图标：彩色相机 / 圆盘
   - 状态提示：红点（表示有新内容）
   - 功能：活动、任务、社区入口（v1.1+ 实现）
   - 点击反馈：显示"敬请期待"提示
   - 尺寸：48x48 dp

3. **排行榜**（v1.0 仅作UI占位）
   - 图标：奖杯 / 排名
   - 功能：好友榜 / 全服榜（v1.1+ 实现）
   - 点击反馈：显示"敬请期待"提示
   - 尺寸：48x48 dp

**中心主角展示区**（v1.0 仅作装饰，功能待定）

- 角色：Q 版小动物（如小熊猫）
- 角色下方按钮：
  - 文案：去获得
  - 用途：解锁新皮肤 / 角色收藏（功能待定）
- 角色状态：仅装饰，不参与玩法
- 注：此区域在v1.0版本作为视觉装饰，具体功能待后续版本确定

**底部主操作区**

- **核心按钮（居中）**
  - 文案：开始游戏
  - 尺寸：大尺寸（120x80 dp）
  - 颜色：亮黄色
  - 明显引导点击

- **左侧辅助按钮**
  - 每日签到（v1.1+ 实现）
  - 乌龟对对碰（0/2）（活动模式入口，v1.0 仅作占位）

- **右侧辅助按钮**
  - 分享好友（v1.1+ 实现）
  - 我的收藏 / 已解锁动物（v1.0 仅作占位）

#### 首页布局示意

```
┌─────────────────────┐
│ [设置]              │ ← 顶部左侧功能区（纵向排列）
│ [游戏圈] 🔴         │
│ [排行榜]            │
│                     │
│        🐼           │ ← 中心主角展示区
│     [去获得]        │
│                     │
│                     │
│    [开始游戏]       │ ← 核心按钮（居中、大、亮黄）
│                     │
├─────────────────────┤
│ [签到]    [分享]    │ ← 底部辅助按钮
│ [活动🔒]  [收藏🔒]  │
└─────────────────────┘
```

---

### 18.2 关卡界面设计

#### 顶部左侧功能区（2x2网格布局）

| 位置 | 图标 | 颜色 | 功能 |
|------|------|------|------|
| 左上 | 齿轮 | 绿色方形 | 设置 |
| 右上 | 返回箭头 | 蓝色方形 | 撤销（看广告获取） |
| 左下 | T恤图标 | 白色方形 | 背景切换 |
| 右下 | 小熊头像 | 绿色方形 | 纯色模式 |

- 按钮尺寸：48x48 dp
- 按钮间距：8 dp
- 带视频标记的按钮右上角显示播放图标

#### 关卡基础信息

- **关卡标题**：第 1 关（顶部居中）
- **子关卡节点**：
  - 黄色圆形按钮：① - ②
  - 表示阶段目标 / 分段完成度
- **进度显示**（右上角）：
  - 动物头像（小熊猫）
  - 文案：进度 0%
- **右上角其他按钮**：
  - 更多按钮（...）
  - 分享/设置按钮（圆形）

#### 主玩法区域（棋盘）

**棋盘结构**

- 整体形状：菱形 / 六边形排列
- 背景：木质桌面 / 深棕色
- 顶部装饰：绿叶元素
- 目的：突出动物棋子

**棋子排列**

- 紧密堆叠
- 45度倾斜排列
- 方向不统一（横/竖/倒置）
- 所有棋子在同一2D平面

**棋子设计**

- 单位形态：胶囊状 / 长条形（详见第十三章）
- 两端是动物头尾（头部在朝向方向）
- 动物类型：至少 3-4 种（猪 / 羊 / 狗）
  - 🐷 粉色猪（粉红色身体，黑色五官）
  - 🐑 白色羊（白色身体，灰/黑色头部）
  - 🐶 橙黄色狗/仓鼠（橙黄色，简单表情）
- 每种有明显配色区分
- 状态区分：
  - 可点击（朝向方向无阻挡）
  - 被阻挡（朝向方向有其他方块，点击抖动）

#### 关卡界面布局示意

```
┌─────────────────────────────────┐
│ [⚙设置][↩撤销]    第1关    [...][⚙]│ ← 顶部栏
│ [👕背景][🐻纯色]   ① - ②   🐼进度0%│
├─────────────────────────────────┤
│        🌿 绿叶装饰 🌿            │
│                                  │
│      ┌─────────────────┐        │
│      │    🪵 木质棋盘    │        │
│      │                  │        │
│      │   🐷🐑🐶🐷🐑    │        │  菱形排列
│      │  🐶🐷🐑🐶🐷🐑   │        │  45度倾斜
│      │   🐷🐶🐑🐷🐶    │        │  紧密堆叠
│      │  🐑🐷🐶🐑🐷🐶   │        │
│      │   🐶🐑🐷🐶🐑    │        │
│      │                  │        │
│      └─────────────────┘        │
│                                  │
├─────────────────────────────────┤
│ [🔵抓走] [🟡翻转] [🟣洗牌] [🟣洗牌]│ ← 道具栏（4个按钮）
└─────────────────────────────────┘
```

---

### 18.3 游戏进行界面布局

**实际游戏界面**（与18.2的关卡界面布局一致）

```
┌─────────────────────────────────┐
│ [⚙][↩]      第1关         [...][⚙]│ ← 顶部栏（高度 60dp）
│ [👕][🐻]    ① - ②      🐼进度50%│
├─────────────────────────────────┤
│        🌿 绿叶装饰 🌿            │
│                                  │
│      ┌─────────────────┐        │
│      │    🪵 木质棋盘    │        │ ← 棋盘区域（宽度 90%）
│      │                  │        │   深棕色背景
│      │     🐷→ 🐑↑      │        │   胶囊状棋子
│      │   🐶↓ 🐷← 🐑→    │        │   紧密堆叠
│      │     🐶↑ 🐷↓      │        │
│      │                  │        │
│      └─────────────────┘        │
│                                  │
├─────────────────────────────────┤
│ [🔵抓走] [🟡翻转] [🟣洗牌] [🟣洗牌]│ ← 道具栏（高度 100dp）
└─────────────────────────────────┘
```

---

### 18.4 字体规范

**字体选择**

- iOS：PingFang SC
- Android：Noto Sans SC

**字号规范**

| 用途 | 字号 | 字重 |
|------|------|------|
| 关卡编号 | 24 dp | 粗体 |
| 进度百分比 | 32 dp | 粗体 |
| 按钮文字 | 16 dp | 常规 |
| 提示文字 | 14 dp | 常规 |

---

### 18.5 按钮设计

**道具按钮（底部4个）**

- **抓走道具（蓝色）**
  - 尺寸：80x80 dp
  - 形状：圆角矩形
  - 颜色：蓝色 #2196F3
  - 显示：爪子/抓手图标
  - 右上角：视频播放图标（表示看广告使用）
  - 底部文字：抓走
  - 点击反馈：缩小至 90%

- **翻转道具（黄色）**
  - 尺寸：80x80 dp
  - 形状：圆角矩形
  - 颜色：黄色 #FFC107
  - 显示：旋转箭头图标
  - 右上角：视频播放图标
  - 底部文字：翻转
  - 点击反馈：缩小至 90%

- **洗牌道具（位置）（紫色）**
  - 尺寸：80x80 dp
  - 形状：圆角矩形
  - 颜色：紫色 #9C27B0
  - 显示：工字形图标
  - 右上角：视频播放图标
  - 底部文字：洗牌
  - 点击反馈：缩小至 90%

- **洗牌道具（方向）（粉紫色）**
  - 尺寸：80x80 dp
  - 形状：圆角矩形
  - 颜色：粉紫色 #E91E63
  - 显示：工字形图标 + 爱心装饰
  - 右上角：红点提示（推荐）
  - 底部文字：洗牌
  - 点击反馈：缩小至 90%

**顶部功能按钮**

- **设置按钮**
  - 尺寸：48x48 dp
  - 形状：圆角矩形
  - 颜色：绿色 #4CAF50
  - 图标：齿轮图标

- **撤销按钮**
  - 尺寸：48x48 dp
  - 形状：圆角矩形
  - 颜色：蓝色 #03A9F4
  - 图标：返回箭头
  - 右上角：视频播放图标

- **背景切换按钮**
  - 尺寸：48x48 dp
  - 形状：圆角矩形
  - 颜色：白色
  - 图标：T恤图标
  - 底部文字：背景

- **纯色模式按钮**
  - 尺寸：48x48 dp
  - 形状：圆角矩形
  - 颜色：绿色 #8BC34A
  - 图标：小熊头像
  - 底部文字：纯色模式

---

### 18.6 弹窗设计

**胜利弹窗**

- 背景：白色圆角卡片
- 显示内容：
  - "关卡完成！"文字
  - 可爱的动物庆祝动画
  - "下一关"按钮（主按钮）
  - "重玩"按钮（次按钮，小）

**道具确认弹窗**

- 标题："使用道具？"
- 道具图标 + 名称
- 效果说明
- "确认" / "取消"按钮

---

## 十九、引导系统设计

### 19.1 第 1 关引导流程

**步骤 1：高亮提示**

- 游戏开始后，1 秒延迟
- 高亮一个可消除方块（黄色闪烁边框）
- 显示半透明遮罩（只露出该方块）

**步骤 2：文字提示**

- 在方块上方显示气泡："点我试试！"
- 气泡样式：白色圆角矩形，带小三角

**步骤 3：操作反馈**

- 玩家点击后，方块飞出
- 气泡消失，遮罩消失
- 显示 "太棒了！" 文字（1s 后消失）

**步骤 4：继续游戏**

- 不再有强制引导
- 剩余方块正常游戏

### 19.2 引导原则

**极简原则**

- 仅第 1 关有强制引导
- 引导 ≤ 10 秒
- 引导即实操，不演示视频

**无干扰原则**

- 引导不可跳过（但极短）
- 不中断游戏流程
- 无二次弹窗说明

---

## 二十、游戏节奏与心流设计

### 20.1 单局时长目标

- 教学关（1-3关）：30-60 秒/关
- 简单关（4-10关）：60-90 秒/关
- 中等关（11-20关）：90-120 秒/关
- 困难关（21-30关）：120-180 秒/关

### 20.2 流畅度保障

**无等待设计**

- 无加载动画（关卡即时加载）
- 无强制广告（可选择性观看）
- 无网络等待（本地优先）

**快速重试**

- 死局后可立即重试
- 关卡失败可快速重新开始
- 保留当前进度状态

### 20.3 正向激励

**成就感节点**

- 每 25% 进度：音效提示
- 每 5 关完成：小庆祝动画
- 全部通关：大庆祝动画

**避免挫败感**

- 不显示"失败"字样
- 不显示评分或星级
- 不显示用时对比

---

## 二十一、版本迭代规划

### 21.1 MVP 版本（v1.0）

**核心功能**

- 30 个关卡
- 3 种基础道具
- 本地存档
- 基础引导

**目标**

- 验证核心玩法
- 测试用户留存
- 收集反馈数据

### 21.2 v1.1 规划（可选）

**新增内容**

- 20 个新关卡（51-70关）
- 4 种新动物方块
- 成就系统
- 每日签到奖励

### 21.3 v1.2 规划（可选）

**新增内容**

- 主题关卡（节日限定）
- 关卡编辑器（玩家自制）
- 分享功能

---

## 文档修订历史

| 版本 | 日期 | 修订内容 | 修订人 |
|------|------|----------|--------|
| v1.0 | 2026-01-07 | 初始版本，包含核心玩法设计 | - |
| v1.1 | 2026-01-07 | 补充视觉、音效、关卡等详细设计 | Claude |
| v1.2 | 2026-01-08 | 新增主界面（首页）和关卡界面完整UI设计 | Claude |
| | | - 将方块设计从方形改为胶囊状（头尾方向） | |
| | | - 补充道具按钮颜色规范（蓝/黄/紫） | |
| | | - 新增UI占位说明（排行榜、游戏圈、活动模式等） | |
| | | - 明确2D平面布局（无层级遮挡关系） | |
| v1.3 | 2026-01-08 | 根据参考游戏截图更新UI设计规范 | Claude |
| | | - 道具按钮从圆形改为圆角矩形 | |
| | | - 道具数量从3个增加到4个（新增洗牌方向道具） | |
| | | - 顶部功能区从纵向改为2x2网格布局 | |
| | | - 新增撤销功能（看广告使用） | |
| | | - 新增背景切换功能 | |
| | | - 新增纯色模式功能 | |
| | | - 更新棋盘布局为菱形/45度倾斜排列 | |
| | | - 明确动物类型（猪/羊/狗） | |